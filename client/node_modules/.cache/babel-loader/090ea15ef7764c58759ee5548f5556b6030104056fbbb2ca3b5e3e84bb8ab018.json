{"ast":null,"code":"import React from\"react\";// import EditUser from \"../EditUser\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ListUsers=_ref=>{let{users,getUsers,setUsers,isMobile}=_ref;const deleteUser=async id=>{await fetch(\"/api/users/\".concat(id),{method:\"DELETE\"});getUsers();};const getDifDays=expiration=>{let today=new Date();let expDate=new Date(expiration);return Math.round((expDate-today)/(1000*3600*24)+1);};const MobileList=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"user-list\",children:users.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(user=>{let difDay=getDifDays(user.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-list-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-1\",children:/*#__PURE__*/_jsx(\"p\",{className:\"email\",children:user.email})}),/*#__PURE__*/_jsx(\"div\",{className:\"row-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"expiration\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row-3\"})]},user.user_id);})});};const DesktopList=()=>{return/*#__PURE__*/_jsxs(\"table\",{className:\"user-list\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:\"Email\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(user=>{let difDay=getDifDays(user.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"expiration-span\",style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})})]},user.user_id);})})]});};return users.length===0?/*#__PURE__*/_jsx(\"h1\",{className:\"no-user\",children:\"No users found.\"}):isMobile?/*#__PURE__*/_jsx(MobileList,{}):/*#__PURE__*/_jsx(DesktopList,{});};export default ListUsers;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ListUsers","_ref","users","getUsers","setUsers","isMobile","deleteUser","id","fetch","concat","method","getDifDays","expiration","today","Date","expDate","Math","round","MobileList","className","children","sort","a","b","map","user","difDay","color","text","background","email","style","backgroundColor","user_id","DesktopList","length"],"sources":["/Users/hung/Library/Mobile Documents/com~apple~CloudDocs/Documents/GitHub/Smart-fridge/client/src/components/Forum/ListUser/ListUsers.jsx"],"sourcesContent":["import React from \"react\";\n// import EditUser from \"../EditUser\";\n\nconst ListUsers = ({\n  users,\n  getUsers,\n  setUsers,\n  isMobile,\n}) => {\n  const deleteUser = async (id) => {\n    await fetch(`/api/users/${id}`, {\n      method: \"DELETE\",\n    });\n    getUsers();\n  };\n\n  const getDifDays = (expiration) => {\n    let today = new Date();\n    let expDate = new Date(expiration);\n    return Math.round((expDate - today) / (1000 * 3600 * 24) + 1);\n  };\n\n  const MobileList = () => {\n    return (\n      <div className=\"user-list\">\n        {users\n          .sort((a, b) =>\n            getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n          )\n          .map((user) => {\n            let difDay = getDifDays(user.expiration);\n            let color = {\n              text: \"\",\n              background: \"\",\n            };\n            if (difDay < 30) {\n              color.text = \"rgba(255,0,0,1)\";\n              color.background = \"rgba(255,0,0,.1)\";\n            } else if (difDay < 90) {\n              color.text = \"rgba(255,165,0,1)\";\n              color.background = \"rgba(255,165,0,.1)\";\n            } else {\n              color.text = \"rgba(46, 204, 113, 1)\";\n              color.background = \"rgba(46, 204, 113, .1)\";\n            }\n            return (\n              <div className=\"user-list-item\" key={user.user_id}>\n                <div className=\"row-1\">\n                  <p className=\"email\">{user.email}</p>\n                  {/* <p className=\"quantity\">{user.quantity}x</p> */}\n                </div>\n                <div className=\"row-2\">\n                  {/* <p className=\"location\">{user.location}</p> */}\n                  <p className=\"expiration\">\n                    <span\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </p>\n                </div>\n                <div className=\"row-3\">\n                  {/* <Edituser\n                    locationList={locationList}\n                    user={user}\n                    getusers={getusers}\n                    users={users}\n                    setusers={setusers}\n                  /> */}\n                  {/* <button\n                    onClick={() => {\n                      deleteuser(user.user_id);\n                    }}\n                  >\n                    Delete\n                  </button> */}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    );\n  };\n\n  const DesktopList = () => {\n    return (\n      <table className=\"user-list\">\n        <thead>\n          <tr>\n            <th>Email</th>\n            {/* <th>Quantity</th> */}\n            {/* <th>Location</th>\n            <th>Expiration</th>\n            <th>Options</th> */}\n          </tr>\n        </thead>\n        <tbody>\n          {users\n            .sort((a, b) =>\n              getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n            )\n            .map((user) => {\n              let difDay = getDifDays(user.expiration);\n              let color = {\n                text: \"\",\n                background: \"\",\n              };\n              if (difDay < 30) {\n                color.text = \"rgba(255,0,0,1)\";\n                color.background = \"rgba(255,0,0,.1)\";\n              } else if (difDay < 90) {\n                color.text = \"rgba(255,165,0,1)\";\n                color.background = \"rgba(255,165,0,.1)\";\n              } else {\n                color.text = \"rgba(46, 204, 113, 1)\";\n                color.background = \"rgba(46, 204, 113, .1)\";\n              }\n              return (\n                <tr key={user.user_id}>\n                  <td>{user.email}</td>\n                  {/* <td>{user.quantity}</td>\n                  <td>{user.location}</td> */}\n                  <td>\n                    <span\n                      className=\"expiration-span\"\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </td>\n                  {/* <td>\n                    <Edituser\n                      locationList={locationList}\n                      user={user}\n                      getusers={getusers}\n                      users={users}\n                      setusers={setusers}\n                    />\n                    <button\n                      onClick={() => {\n                        deleteuser(user.user_id);\n                      }}\n                    >\n                      Delete\n                    </button>\n                  </td> */}\n                </tr>\n              );\n            })}\n        </tbody>\n      </table>\n    );\n  };\n  return users.length === 0 ? (\n    <h1 className=\"no-user\">No users found.</h1>\n  ) : isMobile ? (\n    <MobileList />\n  ) : (\n    <DesktopList />\n  );\n};\n\nexport default ListUsers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}