{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const EditLocation=_ref=>{let{locationList,location,getLocations}=_ref;const[name,setName]=useState(location.name);const[visible,setVisible]=useState(false);const updateLocation=async e=>{e.preventDefault();const body={name};await fetch(\"/api/locations/\".concat(location.location_id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});getLocations();setVisible(false);setName(name);};const closeModal=()=>{setName(location.name);setVisible(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"open-modal\",onClick:()=>setVisible(true),children:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-location-modal\",id:\"modal\".concat(location.location_id),style:{opacity:visible?1:0,pointerEvents:visible?\"auto\":\"none\"},children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"modal-title\",children:[\"Edit Location: \\\"\",location.name,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",value:name,onChange:e=>setName(e.target.value)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",onClick:updateLocation,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:closeModal,children:\"Close\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\",onClick:closeModal})]})]});};export default EditLocation;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditLocation","_ref","locationList","location","getLocations","name","setName","visible","setVisible","updateLocation","e","preventDefault","body","fetch","concat","location_id","method","headers","JSON","stringify","closeModal","children","type","className","onClick","id","style","opacity","pointerEvents","htmlFor","value","onChange","target"],"sources":["/Users/hung/Downloads/FridgeMan-master/client/src/components/Location/EditLocation/EditLocation.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst EditLocation = ({ locationList, location, getLocations }) => {\n  const [name, setName] = useState(location.name);\n  const [visible, setVisible] = useState(false);\n\n  const updateLocation = async (e) => {\n    e.preventDefault();\n    const body = { name };\n    await fetch(`/api/locations/${location.location_id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n\n    getLocations();\n    setVisible(false);\n    setName(name);\n  };\n\n  const closeModal = () => {\n    setName(location.name);\n    setVisible(false);\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"open-modal\"\n        onClick={() => setVisible(true)}\n      >\n        Edit\n      </button>\n\n      <div\n        className=\"edit-location-modal\"\n        id={`modal${location.location_id}`}\n        style={{\n          opacity: visible ? 1 : 0,\n          pointerEvents: visible ? \"auto\" : \"none\",\n        }}\n      >\n        <form>\n          <h1 className=\"modal-title\">Edit Location: \"{location.name}\"</h1>\n\n          <div className=\"input-container\">\n            <div className=\"input\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"btn-container\">\n            <button type=\"submit\" className=\"btn\" onClick={updateLocation}>\n              Edit\n            </button>\n            <button type=\"button\" className=\"btn\" onClick={closeModal}>\n              Close\n            </button>\n          </div>\n        </form>\n        <div className=\"modal-background\" onClick={closeModal}></div>\n      </div>\n    </>\n  );\n};\n\nexport default EditLocation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}