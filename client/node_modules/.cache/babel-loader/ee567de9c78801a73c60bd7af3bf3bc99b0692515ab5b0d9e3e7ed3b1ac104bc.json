{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const EditStock=_ref=>{let{stock,locationList,stocks,setStocks}=_ref;const[name,setName]=useState(stock.name);const[location,setLocation]=useState(stock.location);const[quantity,setQuantity]=useState(stock.quantity);const[expiration,setExpiration]=useState(stock.expiration);const[visible,setVisible]=useState(false);const updateStock=async e=>{e.preventDefault();const body={name,location,quantity,expiration};await fetch(\"/api/stocks/\".concat(stock.stock_id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});let newStocks=[...stocks];newStocks.map(currentStock=>{if(currentStock.stock_id===stock.stock_id){currentStock.name=name;currentStock.location=location;currentStock.quantity=quantity;currentStock.expiration=expiration;}return\"done\";});setStocks(newStocks);setVisible(false);setName(name);setLocation(location);setQuantity(quantity);setExpiration(expiration);};const closeModal=()=>{setName(stock.name);setLocation(stock.location);setQuantity(stock.quantity);setExpiration(stock.expiration);setVisible(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"open-modal\",onClick:()=>setVisible(true),children:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-stock-modal\",id:\"modal\".concat(stock.stock_id),style:{opacity:visible?1:0,pointerEvents:visible?\"auto\":\"none\"},children:[/*#__PURE__*/_jsxs(\"form\",{className:\"edit-stock\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"modal-title\",children:[\"Edit Stock: \\\"\",stock.name,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location\"}),/*#__PURE__*/_jsx(\"select\",{value:location,onChange:e=>{setLocation(e.target.value);},children:locationList.map((location,key)=>{return/*#__PURE__*/_jsx(\"option\",{value:location.name,children:location.name},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"quantity\",min:\"0\",value:quantity,onChange:e=>{setQuantity(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiration\",children:\"Expiration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"expiration\",value:expiration,onChange:e=>setExpiration(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",onClick:updateStock,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:closeModal,children:\"Close\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\",onClick:closeModal})]})]});};export default EditStock;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditStock","_ref","stock","locationList","stocks","setStocks","name","setName","location","setLocation","quantity","setQuantity","expiration","setExpiration","visible","setVisible","updateStock","e","preventDefault","body","fetch","concat","stock_id","method","headers","JSON","stringify","newStocks","map","currentStock","closeModal","children","type","className","onClick","id","style","opacity","pointerEvents","htmlFor","value","onChange","target","key","min"],"sources":["/Users/hung/Documents/Tài liệu - Hungngohihihi/GitHub/Smart-fridge2/client/src/components/Stock/EditStock/EditStock.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst EditStock = ({ stock, locationList, stocks, setStocks }) => {\n  const [name, setName] = useState(stock.name);\n  const [location, setLocation] = useState(stock.location);\n  const [quantity, setQuantity] = useState(stock.quantity);\n  const [expiration, setExpiration] = useState(stock.expiration);\n  const [visible, setVisible] = useState(false);\n\n  const updateStock = async (e) => {\n    e.preventDefault();\n    const body = { name, location, quantity, expiration };\n    await fetch(`/api/stocks/${stock.stock_id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n\n    let newStocks = [...stocks];\n\n    newStocks.map((currentStock) => {\n      if (currentStock.stock_id === stock.stock_id) {\n        currentStock.name = name;\n        currentStock.location = location;\n        currentStock.quantity = quantity;\n        currentStock.expiration = expiration;\n      }\n      return \"done\";\n    });\n\n    setStocks(newStocks);\n    setVisible(false);\n    setName(name);\n    setLocation(location);\n    setQuantity(quantity);\n    setExpiration(expiration);\n  };\n\n  const closeModal = () => {\n    setName(stock.name);\n    setLocation(stock.location);\n    setQuantity(stock.quantity);\n    setExpiration(stock.expiration);\n    setVisible(false);\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"open-modal\"\n        onClick={() => setVisible(true)}\n      >\n        Edit\n      </button>\n\n      <div\n        className=\"edit-stock-modal\"\n        id={`modal${stock.stock_id}`}\n        style={{\n          opacity: visible ? 1 : 0,\n          pointerEvents: visible ? \"auto\" : \"none\",\n        }}\n      >\n        <form className=\"edit-stock\">\n          <h1 className=\"modal-title\">Edit Stock: \"{stock.name}\"</h1>\n          <div className=\"input-container\">\n            <div className=\"input\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input\">\n              <label htmlFor=\"location\">Location</label>\n              <select\n                value={location}\n                onChange={(e) => {\n                  setLocation(e.target.value);\n                }}\n              >\n                {locationList.map((location, key) => {\n                  return (\n                    <option key={key} value={location.name}>\n                      {location.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n            <div className=\"input\">\n              <label htmlFor=\"quantity\">Quantity</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                name=\"quantity\"\n                min=\"0\"\n                value={quantity}\n                onChange={(e) => {\n                  setQuantity(e.target.value);\n                }}\n              />\n            </div>\n            <div className=\"input\">\n              <label htmlFor=\"expiration\">Expiration</label>\n              <input\n                type=\"date\"\n                className=\"form-control\"\n                name=\"expiration\"\n                value={expiration}\n                onChange={(e) => setExpiration(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"btn-container\">\n            <button type=\"submit\" className=\"btn\" onClick={updateStock}>\n              Edit\n            </button>\n            <button type=\"button\" className=\"btn\" onClick={closeModal}>\n              Close\n            </button>\n          </div>\n        </form>\n        <div className=\"modal-background\" onClick={closeModal}></div>\n      </div>\n    </>\n  );\n};\n\nexport default EditStock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}