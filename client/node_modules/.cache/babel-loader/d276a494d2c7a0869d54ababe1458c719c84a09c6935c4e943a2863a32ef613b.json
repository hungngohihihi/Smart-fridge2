{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddStock=_ref=>{let{getStocks,locationList,setAddVisibility,addVisible}=_ref;let today=new Date();let todayMonth=today.getMonth()+1<10?\"0\".concat(today.getMonth()+1):\"\".concat(today.getMonth()+1);let todayDate=\"\".concat(today.getFullYear(),\"-\").concat(todayMonth,\"-\").concat(today.getDate());const[name,setName]=useState(\"\");const[location,setLocation]=useState(\"\");const[quantity,setQuantity]=useState(\"\");const[expiration,setExpiration]=useState(todayDate);const addStock=async e=>{e.preventDefault();const body={name,location,quantity,expiration};await fetch(\"/api/stocks\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});setName(\"\");setLocation(locationList[0]?locationList[0].name:\"\");setQuantity(\"\");setExpiration(todayDate);getStocks();};useEffect(()=>{setLocation(locationList[0]?locationList[0].name:\"\");},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"add-stock-modal\",style:{opacity:addVisible?\"1\":\"0\",pointerEvents:addVisible?\"auto\":\"none\"},children:[/*#__PURE__*/_jsxs(\"form\",{className:\"add\",onSubmit:e=>{addStock(e);},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title\",children:\"Add a stock\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Stock Name\",value:name,onChange:e=>{setName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location\"}),/*#__PURE__*/_jsx(\"select\",{name:\"location\",value:location,onChange:e=>{setLocation(e.target.value);},required:true,children:locationList.map((location,key)=>{return/*#__PURE__*/_jsx(\"option\",{value:location.name,children:location.name},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",min:\"0\",placeholder:\"Stock Quantity\",value:quantity,onChange:e=>{setQuantity(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiration\",children:\"Expiration\"}),/*#__PURE__*/_jsx(\"input\",{name:\"expiration\",type:\"date\",value:expiration,placeholder:\"MM/DD/YYYY\",onChange:e=>{setExpiration(e.target.value);},required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setAddVisibility(false);},children:\"Close\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-background\",onClick:()=>{setAddVisibility(false);}})]});};export default AddStock;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AddStock","_ref","getStocks","locationList","setAddVisibility","addVisible","today","Date","todayMonth","getMonth","concat","todayDate","getFullYear","getDate","name","setName","location","setLocation","quantity","setQuantity","expiration","setExpiration","addStock","e","preventDefault","body","fetch","method","headers","JSON","stringify","className","style","opacity","pointerEvents","children","onSubmit","htmlFor","type","placeholder","value","onChange","target","required","map","key","min","onClick"],"sources":["/Users/hung/Downloads/FridgeMan-master/client/src/components/Stock/AddStock/AddStock.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst AddStock = ({\n  getStocks,\n  locationList,\n  setAddVisibility,\n  addVisible,\n}) => {\n  let today = new Date();\n  let todayMonth =\n    today.getMonth() + 1 < 10\n      ? `0${today.getMonth() + 1}`\n      : `${today.getMonth() + 1}`;\n  let todayDate = `${today.getFullYear()}-${todayMonth}-${today.getDate()}`;\n  const [name, setName] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [expiration, setExpiration] = useState(todayDate);\n\n  const addStock = async (e) => {\n    e.preventDefault();\n    const body = { name, location, quantity, expiration };\n    await fetch(\"/api/stocks\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n    setName(\"\");\n    setLocation(locationList[0] ? locationList[0].name : \"\");\n    setQuantity(\"\");\n    setExpiration(todayDate);\n    getStocks();\n  };\n\n  useEffect(() => {\n    setLocation(locationList[0] ? locationList[0].name : \"\");\n  }, []);\n\n  return (\n    <div\n      className=\"add-stock-modal\"\n      style={{\n        opacity: addVisible ? \"1\" : \"0\",\n        pointerEvents: addVisible ? \"auto\" : \"none\",\n      }}\n    >\n      <form\n        className=\"add\"\n        onSubmit={(e) => {\n          addStock(e);\n        }}\n      >\n        <h1 className=\"modal-title\">Add a stock</h1>\n        <div className=\"input-container\">\n          <div className=\"input\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Stock Name\"\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n              required\n            />\n          </div>\n          <div className=\"input\">\n            <label htmlFor=\"location\">Location</label>\n            <select\n              name=\"location\"\n              value={location}\n              onChange={(e) => {\n                setLocation(e.target.value);\n              }}\n              required\n            >\n              {locationList.map((location, key) => {\n                return (\n                  <option key={key} value={location.name}>\n                    {location.name}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n          <div className=\"input\">\n            <label htmlFor=\"quantity\">Quantity</label>\n            <input\n              type=\"number\"\n              name=\"quantity\"\n              min=\"0\"\n              placeholder=\"Stock Quantity\"\n              value={quantity}\n              onChange={(e) => {\n                setQuantity(e.target.value);\n              }}\n              required\n            />\n          </div>\n          <div className=\"input\">\n            <label htmlFor=\"expiration\">Expiration</label>\n            <input\n              name=\"expiration\"\n              type=\"date\"\n              value={expiration}\n              placeholder=\"MM/DD/YYYY\"\n              onChange={(e) => {\n                setExpiration(e.target.value);\n              }}\n              required\n            />\n          </div>\n        </div>\n        <div className=\"btn-container\">\n          <button type=\"submit\">Add</button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              setAddVisibility(false);\n            }}\n          >\n            Close\n          </button>\n        </div>\n      </form>\n      <div\n        className=\"modal-background\"\n        onClick={() => {\n          setAddVisibility(false);\n        }}\n      ></div>\n    </div>\n  );\n};\n\nexport default AddStock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}