{"ast":null,"code":"import React from\"react\";import EditStock from\"../EditStock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ListStocks=_ref=>{let{locationList,getStocks,isMobile}=_ref;const deleteStock=async id=>{await fetch(\"/api/stocks/\".concat(id),{method:\"DELETE\"});getStocks();};const getDifDays=expiration=>{let today=new Date();let expDate=new Date(expiration);return Math.round((expDate-today)/(1000*3600*24)+1);};const MobileList=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"stock-list\",children:stocks.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(stock=>{let difDay=getDifDays(stock.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"stock-list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:stock.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[stock.quantity,\"x\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"location\",children:stock.location}),/*#__PURE__*/_jsx(\"p\",{className:\"expiration\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row-3\",children:[/*#__PURE__*/_jsx(EditStock,{locationList:locationList,stock:stock// getStocks={getStocks}\n// stocks={stocks}\n// setStocks={setStocks}\n}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{deleteStock(stock.stock_id);},children:\"Delete\"})]})]},stock.stock_id);})});};const DesktopList=()=>{return/*#__PURE__*/_jsxs(\"table\",{className:\"stock-list\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Expiration\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Options\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stocks.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(stock=>{let difDay=getDifDays(stock.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:stock.name}),/*#__PURE__*/_jsx(\"td\",{children:stock.quantity}),/*#__PURE__*/_jsx(\"td\",{children:stock.location}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"expiration-span\",style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(EditStock,{locationList:locationList// stock={stock}\n,getStocks:getStocks// stocks={stocks}\n// setStocks={setStocks}\n}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{deleteStock(stock.stock_id);},children:\"Delete\"})]})]},stock.stock_id);})})]});};return stocks.length===0?/*#__PURE__*/_jsx(\"h1\",{className:\"no-stock\",children:\"No stocks found.\"}):isMobile?/*#__PURE__*/_jsx(MobileList,{}):/*#__PURE__*/_jsx(DesktopList,{});};export default ListStocks;","map":{"version":3,"names":["React","EditStock","jsx","_jsx","jsxs","_jsxs","ListStocks","_ref","locationList","getStocks","isMobile","deleteStock","id","fetch","concat","method","getDifDays","expiration","today","Date","expDate","Math","round","MobileList","className","children","stocks","sort","a","b","map","stock","difDay","color","text","background","name","quantity","location","style","backgroundColor","onClick","stock_id","DesktopList","length"],"sources":["/Users/hung/Library/Mobile Documents/com~apple~CloudDocs/Documents/GitHub/Smart-fridge/client/src/components/Stock/ListStock/ListStocks.jsx"],"sourcesContent":["import React from \"react\";\nimport EditStock from \"../EditStock\";\n\nconst ListStocks = ({ locationList, getStocks, isMobile,}) => {\n  const deleteStock = async (id) => {\n    await fetch(`/api/stocks/${id}`, {\n      method: \"DELETE\",\n    });\n    getStocks();\n  };\n\n  const getDifDays = (expiration) => {\n    let today = new Date();\n    let expDate = new Date(expiration);\n    return Math.round((expDate - today) / (1000 * 3600 * 24) + 1);\n  };\n\n  const MobileList = () => {\n    return (\n      <div className=\"stock-list\">\n        {stocks\n          .sort((a, b) =>\n            getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n          )\n          .map((stock) => {\n            let difDay = getDifDays(stock.expiration);\n            let color = {\n              text: \"\",\n              background: \"\",\n            };\n            if (difDay < 30) {\n              color.text = \"rgba(255,0,0,1)\";\n              color.background = \"rgba(255,0,0,.1)\";\n            } else if (difDay < 90) {\n              color.text = \"rgba(255,165,0,1)\";\n              color.background = \"rgba(255,165,0,.1)\";\n            } else {\n              color.text = \"rgba(46, 204, 113, 1)\";\n              color.background = \"rgba(46, 204, 113, .1)\";\n            }\n            return (\n              <div className=\"stock-list-item\" key={stock.stock_id}>\n                <div className=\"row-1\">\n                  <p className=\"name\">{stock.name}</p>\n                  <p className=\"quantity\">{stock.quantity}x</p>\n                </div>\n                <div className=\"row-2\">\n                  <p className=\"location\">{stock.location}</p>\n                  <p className=\"expiration\">\n                    <span\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </p>\n                </div>\n                <div className=\"row-3\">\n                  <EditStock\n                    locationList={locationList}\n                    stock={stock}\n                    // getStocks={getStocks}\n                    // stocks={stocks}\n                    // setStocks={setStocks}\n                  />\n                  <button\n                    onClick={() => {\n                      deleteStock(stock.stock_id);\n                    }}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    );\n  };\n\n  const DesktopList = () => {\n    return (\n      <table className=\"stock-list\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Quantity</th>\n            <th>Location</th>\n            <th>Expiration</th>\n            <th>Options</th>\n          </tr>\n        </thead>\n        <tbody>\n          {stocks\n            .sort((a, b) =>\n              getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n            )\n            .map((stock) => {\n              let difDay = getDifDays(stock.expiration);\n              let color = {\n                text: \"\",\n                background: \"\",\n              };\n              if (difDay < 30) {\n                color.text = \"rgba(255,0,0,1)\";\n                color.background = \"rgba(255,0,0,.1)\";\n              } else if (difDay < 90) {\n                color.text = \"rgba(255,165,0,1)\";\n                color.background = \"rgba(255,165,0,.1)\";\n              } else {\n                color.text = \"rgba(46, 204, 113, 1)\";\n                color.background = \"rgba(46, 204, 113, .1)\";\n              }\n              return (\n                <tr key={stock.stock_id}>\n                  <td>{stock.name}</td>\n                  <td>{stock.quantity}</td>\n                  <td>{stock.location}</td>\n                  <td>\n                    <span\n                      className=\"expiration-span\"\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </td>\n                  <td>\n                    <EditStock\n                      locationList={locationList}\n                      // stock={stock}\n                      getStocks={getStocks}\n                      // stocks={stocks}\n                      // setStocks={setStocks}\n                    />\n                    <button\n                      onClick={() => {\n                        deleteStock(stock.stock_id);\n                      }}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n        </tbody>\n      </table>\n    );\n  };\n  return stocks.length === 0 ? (\n    <h1 className=\"no-stock\">No stocks found.</h1>\n  ) : isMobile ? (\n    <MobileList />\n  ) : (\n    <DesktopList />\n  );\n};\n\nexport default ListStocks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}