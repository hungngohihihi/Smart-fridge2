{"ast":null,"code":"import React from\"react\";import EditStock from\"../EditStock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ListStocks=_ref=>{let{stocks,getStocks,setStocks,locationList,isMobile}=_ref;const deleteStock=async id=>{await fetch(\"/api/stocks/\".concat(id),{method:\"DELETE\"});getStocks();};const getDifDays=expiration=>{let today=new Date();let expDate=new Date(expiration);return Math.round((expDate-today)/(1000*3600*24)+1);};const MobileList=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"stock-list\",children:stocks.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(stock=>{let difDay=getDifDays(stock.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"stock-list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:stock.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[stock.quantity,\"x\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"location\",children:stock.location}),/*#__PURE__*/_jsx(\"p\",{className:\"expiration\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row-3\",children:[/*#__PURE__*/_jsx(EditStock,{locationList:locationList,stock:stock,getStocks:getStocks,stocks:stocks,setStocks:setStocks}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{deleteStock(stock.stock_id);},children:\"Delete\"})]})]},stock.stock_id);})});};const DesktopList=()=>{return/*#__PURE__*/_jsxs(\"table\",{className:\"stock-list\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Expiration\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Options\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stocks.sort((a,b)=>getDifDays(a.expiration)>getDifDays(b.expiration)?1:-1).map(stock=>{let difDay=getDifDays(stock.expiration);let color={text:\"\",background:\"\"};if(difDay<30){color.text=\"rgba(255,0,0,1)\";color.background=\"rgba(255,0,0,.1)\";}else if(difDay<90){color.text=\"rgba(255,165,0,1)\";color.background=\"rgba(255,165,0,.1)\";}else{color.text=\"rgba(46, 204, 113, 1)\";color.background=\"rgba(46, 204, 113, .1)\";}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:stock.name}),/*#__PURE__*/_jsx(\"td\",{children:stock.quantity}),/*#__PURE__*/_jsx(\"td\",{children:stock.location}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"expiration-span\",style:{color:color.text,backgroundColor:color.background},children:[difDay,\" days\"]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(EditStock,{locationList:locationList,stock:stock,getStocks:getStocks,stocks:stocks,setStocks:setStocks}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{deleteStock(stock.stock_id);},children:\"Delete\"})]})]},stock.stock_id);})})]});};return stocks.length===0?/*#__PURE__*/_jsx(\"h1\",{className:\"no-stock\",children:\"No stocks found.\"}):isMobile?/*#__PURE__*/_jsx(MobileList,{}):/*#__PURE__*/_jsx(DesktopList,{});};export default ListStocks;","map":{"version":3,"names":["React","EditStock","jsx","_jsx","jsxs","_jsxs","ListStocks","_ref","stocks","getStocks","setStocks","locationList","isMobile","deleteStock","id","fetch","concat","method","getDifDays","expiration","today","Date","expDate","Math","round","MobileList","className","children","sort","a","b","map","stock","difDay","color","text","background","name","quantity","location","style","backgroundColor","onClick","stock_id","DesktopList","length"],"sources":["/Users/hung/Documents/GitHub/Smart-fridge/client/src/components/Stock/ListStock/ListStocks.jsx"],"sourcesContent":["import React from \"react\";\nimport EditStock from \"../EditStock\";\n\nconst ListStocks = ({\n  stocks,\n  getStocks,\n  setStocks,\n  locationList,\n  isMobile,\n}) => {\n  const deleteStock = async (id) => {\n    await fetch(`/api/stocks/${id}`, {\n      method: \"DELETE\",\n    });\n    getStocks();\n  };\n\n  const getDifDays = (expiration) => {\n    let today = new Date();\n    let expDate = new Date(expiration);\n    return Math.round((expDate - today) / (1000 * 3600 * 24) + 1);\n  };\n\n  const MobileList = () => {\n    return (\n      <div className=\"stock-list\">\n        {stocks\n          .sort((a, b) =>\n            getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n          )\n          .map((stock) => {\n            let difDay = getDifDays(stock.expiration);\n            let color = {\n              text: \"\",\n              background: \"\",\n            };\n            if (difDay < 30) {\n              color.text = \"rgba(255,0,0,1)\";\n              color.background = \"rgba(255,0,0,.1)\";\n            } else if (difDay < 90) {\n              color.text = \"rgba(255,165,0,1)\";\n              color.background = \"rgba(255,165,0,.1)\";\n            } else {\n              color.text = \"rgba(46, 204, 113, 1)\";\n              color.background = \"rgba(46, 204, 113, .1)\";\n            }\n            return (\n              <div className=\"stock-list-item\" key={stock.stock_id}>\n                <div className=\"row-1\">\n                  <p className=\"name\">{stock.name}</p>\n                  <p className=\"quantity\">{stock.quantity}x</p>\n                </div>\n                <div className=\"row-2\">\n                  <p className=\"location\">{stock.location}</p>\n                  <p className=\"expiration\">\n                    <span\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </p>\n                </div>\n                <div className=\"row-3\">\n                  <EditStock\n                    locationList={locationList}\n                    stock={stock}\n                    getStocks={getStocks}\n                    stocks={stocks}\n                    setStocks={setStocks}\n                  />\n                  <button\n                    onClick={() => {\n                      deleteStock(stock.stock_id);\n                    }}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    );\n  };\n\n  const DesktopList = () => {\n    return (\n      <table className=\"stock-list\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Quantity</th>\n            <th>Location</th>\n            <th>Expiration</th>\n            <th>Options</th>\n          </tr>\n        </thead>\n        <tbody>\n          {stocks\n            .sort((a, b) =>\n              getDifDays(a.expiration) > getDifDays(b.expiration) ? 1 : -1\n            )\n            .map((stock) => {\n              let difDay = getDifDays(stock.expiration);\n              let color = {\n                text: \"\",\n                background: \"\",\n              };\n              if (difDay < 30) {\n                color.text = \"rgba(255,0,0,1)\";\n                color.background = \"rgba(255,0,0,.1)\";\n              } else if (difDay < 90) {\n                color.text = \"rgba(255,165,0,1)\";\n                color.background = \"rgba(255,165,0,.1)\";\n              } else {\n                color.text = \"rgba(46, 204, 113, 1)\";\n                color.background = \"rgba(46, 204, 113, .1)\";\n              }\n              return (\n                <tr key={stock.stock_id}>\n                  <td>{stock.name}</td>\n                  <td>{stock.quantity}</td>\n                  <td>{stock.location}</td>\n                  <td>\n                    <span\n                      className=\"expiration-span\"\n                      style={{\n                        color: color.text,\n                        backgroundColor: color.background,\n                      }}\n                    >\n                      {difDay} days\n                    </span>\n                  </td>\n                  <td>\n                    <EditStock\n                      locationList={locationList}\n                      stock={stock}\n                      getStocks={getStocks}\n                      stocks={stocks}\n                      setStocks={setStocks}\n                    />\n                    <button\n                      onClick={() => {\n                        deleteStock(stock.stock_id);\n                      }}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n        </tbody>\n      </table>\n    );\n  };\n  return stocks.length === 0 ? (\n    <h1 className=\"no-stock\">No stocks found.</h1>\n  ) : isMobile ? (\n    <MobileList />\n  ) : (\n    <DesktopList />\n  );\n};\n\nexport default ListStocks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}